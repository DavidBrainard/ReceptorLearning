<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>brainardlab.nben.retina.simulation documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Retina 0.1.0-SNAPSHOT API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><span>Namespaces</span></h3><ul><li><a href="brainardlab.nben.retina.constants.html"><span>brainardlab.nben.retina.constants</span></a></li><li><a href="brainardlab.nben.retina.core.html"><span>brainardlab.nben.retina.core</span></a></li><li><a href="brainardlab.nben.retina.hyperspectral.html"><span>brainardlab.nben.retina.hyperspectral</span></a></li><li><a href="brainardlab.nben.retina.main.html"><span>brainardlab.nben.retina.main</span></a></li><li class="current"><a href="brainardlab.nben.retina.simulation.html"><span>brainardlab.nben.retina.simulation</span></a></li><li><a href="brainardlab.nben.retina.util.html"><span>brainardlab.nben.retina.util</span></a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="brainardlab.nben.retina.simulation.html#var-correlation-analysis"><span>correlation-analysis</span></a></li><li><a href="brainardlab.nben.retina.simulation.html#var-embed-correlation-matrix"><span>embed-correlation-matrix</span></a></li><li><a href="brainardlab.nben.retina.simulation.html#var-simulate-retinas"><span>simulate-retinas</span></a></li><li><a href="brainardlab.nben.retina.simulation.html#var-simulate-retinas-hebbian"><span>simulate-retinas-hebbian</span></a></li><li><a href="brainardlab.nben.retina.simulation.html#var-simulate-retinas-kohonen"><span>simulate-retinas-kohonen</span></a></li><li><a href="brainardlab.nben.retina.simulation.html#var-write-hebbian-simulation"><span>write-hebbian-simulation</span></a></li><li><a href="brainardlab.nben.retina.simulation.html#var-write-kohonen-simulation"><span>write-kohonen-simulation</span></a></li><li><a href="brainardlab.nben.retina.simulation.html#var-write-simulation"><span>write-simulation</span></a></li></ul></div><div class="namespace-docs" id="content"><h2>brainardlab.nben.retina.simulation documentation</h2><pre class="doc"></pre><div class="public" id="var-correlation-analysis"><h3>correlation-analysis</h3><div class="usage"><code>(correlation-analysis ca)</code><code>(correlation-analysis ca sig)</code></div><pre class="doc">This function is used to perform correlation analysis via simulate-retina.  It requires a ref
and an optional seq of signals from a retina.  If the seq is not provided, the function finalizes
the calculation, whose temporary data is stored in the ref, and returns the final correlation
matrix.  If the ref seq is passed, it updates the ref with new correlation information.  The ref
may initially point to nil.</pre></div><div class="public" id="var-embed-correlation-matrix"><h3>embed-correlation-matrix</h3><div class="usage"><code>(embed-correlation-matrix data dims)</code></div><pre class="doc">Given a correlation matrix produced by the simulate-retina function in conjunction with the
correlation-analysis mode (the default) or represented as a double[][], yields the non-metric
multidimensional scaling embedding of the negative log of the data squared.</pre></div><div class="public" id="var-simulate-retinas"><h3>simulate-retinas</h3><div class="usage"><code>(simulate-retinas retinas hs-database &amp; {:keys [image-count analysis finish full-reduce init-reduce image-filter], :or {image-count 25000, full-reduce true}})</code></div><pre class="doc">Runs the simulation for the given retinas using the given input database.  The retinas argument
may be a single retina or a collection of retinas.  The hs-database argument must be an
hs-cache file name or File object.  The following options may be used:
 :image-count may either be a positive integer or a map of retina to positive integer or a
    collection of positive integers in the same order as retinas.  If such a collection is given
    it may be longer or shorter than the list of retinas, but will cycle upon reaching the end.
    The image count specifies how many images to show to each retina.  The default is 25,000.
 :analysis may be nil or a function that takes a retina and a sequence of signal values from the
    input or a collection of such functions, following the general seq/map form as specified in
    :image-count.</pre></div><div class="public" id="var-simulate-retinas-hebbian"><h3>simulate-retinas-hebbian</h3><div class="usage"><code>(simulate-retinas-hebbian retinas hs-database &amp; {:keys [memory image-count dampen timestep steps-per-signal spring-strength distance-fn], :or {memory 20, image-count 1000, dampen 0.05, timestep 0.01, steps-per-signal 10, spring-strength 1, distance-fn (let [c (Math/exp -2.0)] (fn* [p1__4112#] (+ 2.0 (* 20.0 (- (Math/exp (* -2.0 p1__4112#)) c)))))}})</code></div><pre class="doc">Yields a simulation of the retinas (using simulate-retinas), but wraps the call such that all
analysis is done using Hebbian learning implemeted by spring simulation.</pre></div><div class="public" id="var-simulate-retinas-kohonen"><h3>simulate-retinas-kohonen</h3><div class="usage"><code>(simulate-retinas-kohonen retinas hs-database &amp; {:keys [grid-size memory image-count radius alpha save-every], :or {grid-size [20 20], memory 20, image-count 500, radius nil, alpha nil, save-every 10}})</code></div><pre class="doc">Yields a simulation of the retinas (using simulate-retinas), but wraps the call such that all
analysis is done using Kohonen networks.</pre></div><div class="public" id="var-write-hebbian-simulation"><h3>write-hebbian-simulation</h3><div class="usage"><code>(write-hebbian-simulation output-filename R H)</code></div><pre class="doc">(write-hebbian-simulation output-filename retina hebbian-sim-result) writes information about
the given retina and result data produced by the Hebbian simulation to the file named by
output-filename.</pre></div><div class="public" id="var-write-kohonen-simulation"><h3>write-kohonen-simulation</h3><div class="usage"><code>(write-kohonen-simulation output-filename R K)</code></div><pre class="doc">(write-kohonen-simulation output-filename retina kohonen-sim-result) writes information about
the given retina and resulting data produced by the kohonen simulation to the file named by
output-filename.</pre></div><div class="public" id="var-write-simulation"><h3>write-simulation</h3><div class="usage"><code>(write-simulation output-filename retina corr-mtx &amp; {:keys [embed]})</code></div><pre class="doc">(write-simulation output-filename retina correlation-sim-result) writes information about the
given retina and correlation matrix produced by the simulation to the file named by
output-filename. If the optional :embed is passed as true, then an embedding is also written.</pre></div></div></body></html>